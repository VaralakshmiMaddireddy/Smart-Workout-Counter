<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>Dashboard</h2>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">My Profile</a></li>
                <li><a href="#">My Workouts</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </div>

        <div class="main-content">
            <h2>Sign In</h2>
            <form id="signin-form" novalidate>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter at least 8 characters of Password" minlength="8" required>
                </div>
                <button type="submit">Sign In</button>
            </form>

            <div style="display: flex; margin-top: 20px;">
                <!-- Graph to be displayed on the left side -->
                <div style="flex: 1; display: none;" id="exercise-graph-container">
                    <canvas id="exerciseChart" width="300" height="150"></canvas>
                </div>

                <!-- Fitness History Section -->
                <div id="fitness-history" style="flex: 1; display: none;">
                    <h2>Fitness History</h2>
                    <form id="fitness-form">
                        <label for="fitness-level">Select Your Fitness Level:</label>
                        <select id="fitness-level" required>
                            <option value="" disabled selected>Select your level</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                        <button type="button" id="fetch-fitness">Get Fitness Level</button>
                    </form>
                    <div id="fitness-result" style="display: none; margin-top: 10px;">
                        <p>Fitness Level: <span id="fitness-level-output"></span></p>
                        <p>Biceps Range: <span id="biceps-range"></span></p>
                        <button id="start-button" style="display: none;">Start Exercise</button>
                    </div>
                </div>
            </div>

            <div id="exercise-interface" style="display: none; margin-top: 20px;">
                <h2>Exercise in Progress</h2>
                <div id="total-count">Total Reps: <span id="rep-count">0</span></div>
                <div id="current-stage">Current Stage: N/A</div>
                <button id="stop-button" style="float: right;">Stop Exercise</button>
            </div>
            
            <!-- My Workouts Section -->
            <div id="my-workouts" style="display: none; margin-top: 20px;">
                <h2>My Workouts</h2>
                <div>
                    <h3>Workout History</h3>
                    <div>
                        <canvas id="workoutGraph" width="800" height="400"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
